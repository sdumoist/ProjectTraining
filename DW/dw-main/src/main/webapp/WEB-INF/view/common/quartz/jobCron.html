
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>表达式编辑器</title>
    <link rel="stylesheet" type="text/css" href="${ctxPath}/static/common/quartz/css/easyui.css">
    <link rel="stylesheet" type="text/css" href="${ctxPath}/static/common/quartz/css/icon.css">
    <!--外部css和js开始-->
    @include("/common/plugins.html"){}
    <script src="${ctxPath}/static/js/jquery.min.js?v=2.1.4"></script>
    <script src="${ctxPath}/static/common/quartz/js/jquery.easyui.min.js"></script>
    <!--外部css和js结束-->
    <script src="${ctxPath}/static/common/quartz/js/cron.js"></script>
    <style>
        body{font-size: 12px!important;overflow: hidden}
        .imp{ padding-left: 25px; }
        .col{ width:95px;  }
        .weadmin-body-1{ text-align: center; visibility: hidden;}
        #cron_container {width: 660px;height: 410px;display: inline-block;overflow: auto;}
        .tabs-header,.tabs{border-color:#e5e5e5;background: #fff}
        .tabs li a.tabs-inner {color: #a2abbb;width: 65px;}
        .tabs li.tabs-selected a.tabs-inner {  border:0;  border-bottom: 2px solid #26b6af;  }
        .tabs li a.tabs-inner:hover {background:transparent;border-bottom: 2px solid #26b6af; }
        .layui-form-item {margin-bottom: 3px;  }
        .layui-form-radio{margin: 0}
        .layui-form-checkbox{height: 24px}
        .layui-form-checkbox {  width: 24px;  line-height: 24px;  padding-right: 0;  border: 0;  border-radius: 50%;margin-top: 2px}
        .layui-form-checkbox:hover{border:0}
        .layui-form-checkbox i{display: none}
        .layui-form-checkbox span {  padding: 0; background-color: #f2f6fa; color: #b5bece; width: 24px;text-align: center;  border-radius: 50%;}
        .layui-form-checkbox:hover span ,.layui-form-checked span, .layui-form-checked:hover span {  background-color: #26b6af; color: #fff;  }
        .tabs-panels{padding-top: 10px}
        .layui-form-radio>i{font-size: 16px}
        .tabs-panels .panel-body{overflow: auto;padding-bottom: 10px}
        .result label{line-height: 30px}
        .box-body{min-height: 90px;background: #f1f5f9;line-height: 14px;padding: 0 10px;overflow: auto}
        .box-body span{background-color: #26b6af; color: #fff; display: inline-block;width: 14px;height: 14px;text-align: center;border-radius: 50%}
        .box-body div{padding-top: 10px}
    </style>
</head>
<body>
<div  class="weadmin-body-1 layui-form" lay-filter="cronGen">
    <!--<h2>Quartz Cron 生成工具</h2>-->
    <div id="cron_container" class="easyui-layout">
        <div data-options="region:'center',border:false">
            <div class="easyui-tabs" data-options="fit:true,border:false">
                <div title="秒">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="second" onclick="everyTime(this)" title="每秒"> </div>
                    <div class="line layui-form-item"><input type="radio" name="second" onclick="cycle(this)" title="周期从">  <input id="secondStart_0" type="text" class="numberspinner" style="width:60px;" data-options="min:1,max:58" value="1"> - <input type="text"  id="secondEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:59" value="2"> 秒</div>
                    <div class="line layui-form-item"><input type="radio" name="second" onclick="startOn(this)" title="从">  <input type="text"  id="secondStart_1" class="numberspinner" style="width:60px;" data-options="min:0,max:59" value="0"> 秒开始,每 <input type="text"  id="secondEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:59" value="1"> 秒执行一次</div>
                    <div class="line layui-form-item"><input type="radio" name="second" id="sencond_appoint" title="指定"> </div>
                    <div class="imp secondList layui-form-item">
                        <input type="checkbox" value="0" title="00">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                        <input type="checkbox" value="8" title="08">
                        <input type="checkbox" value="9" title="09">
                        <input type="checkbox" value="10" title="10">
                        <input type="checkbox" value="11" title="11">
                        <input type="checkbox" value="12" title="12">
                        <input type="checkbox" value="13" title="13">
                        <input type="checkbox" value="14" title="14">
                        <input type="checkbox" value="15" title="15">
                        <input type="checkbox" value="16" title="16">
                        <input type="checkbox" value="17" title="17">
                        <input type="checkbox" value="18" title="18">
                        <input type="checkbox" value="19" title="19">
                        <input type="checkbox" value="20" title="20">
                        <input type="checkbox" value="21" title="21">
                        <input type="checkbox" value="22" title="22">
                        <input type="checkbox" value="23" title="23">
                        <input type="checkbox" value="24" title="24">
                        <input type="checkbox" value="25" title="25">
                        <input type="checkbox" value="26" title="26">
                        <input type="checkbox" value="27" title="27">
                        <input type="checkbox" value="28" title="28">
                        <input type="checkbox" value="29" title="29">
                        <input type="checkbox" value="30" title="30">
                        <input type="checkbox" value="31" title="31">
                        <input type="checkbox" value="32" title="32">
                        <input type="checkbox" value="33" title="33">
                        <input type="checkbox" value="34" title="34">
                        <input type="checkbox" value="35" title="35">
                        <input type="checkbox" value="36" title="36">
                        <input type="checkbox" value="37" title="37">
                        <input type="checkbox" value="38" title="38">
                        <input type="checkbox" value="39" title="39">
                        <input type="checkbox" value="40" title="40">
                        <input type="checkbox" value="41" title="41">
                        <input type="checkbox" value="42" title="42">
                        <input type="checkbox" value="43" title="43">
                        <input type="checkbox" value="44" title="44">
                        <input type="checkbox" value="45" title="45">
                        <input type="checkbox" value="46" title="46">
                        <input type="checkbox" value="47" title="47">
                        <input type="checkbox" value="48" title="48">
                        <input type="checkbox" value="49" title="49">
                        <input type="checkbox" value="50" title="50">
                        <input type="checkbox" value="51" title="51">
                        <input type="checkbox" value="52" title="52">
                        <input type="checkbox" value="53" title="53">
                        <input type="checkbox" value="54" title="54">
                        <input type="checkbox" value="55" title="55">
                        <input type="checkbox" value="56" title="56">
                        <input type="checkbox" value="57" title="57">
                        <input type="checkbox" value="58" title="58">
                        <input type="checkbox" value="59" title="59">
                    </div>
                </div>
                <div title="分钟">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="min" onclick="everyTime(this)" title="每分钟"> </div>
                    <div class="line layui-form-item"><input type="radio" name="min" onclick="cycle(this)" title="周期从">  <input id="minStart_0" class="numberspinner" style="width:60px;" data-options="min:1,max:58" value="1"> - <input id="minEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:59" value="2"> 分钟</div>
                    <div class="line layui-form-item"><input type="radio" name="min" onclick="startOn(this)" title="从">  <input id="minStart_1" class="numberspinner" style="width:60px;" data-options="min:0,max:59" value="0"> 分钟开始,每 <input id="minEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:59" value="1"> 分钟执行一次</div>
                    <div class="line layui-form-item"><input type="radio" name="min" id="min_appoint" title="指定"> </div>
                    <div class="imp minList">
                        <input type="checkbox" value="0" title="00">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                        <input type="checkbox" value="8" title="08">
                        <input type="checkbox" value="9" title="09">
                        <input type="checkbox" value="10" title="10">
                        <input type="checkbox" value="11" title="11">
                        <input type="checkbox" value="12" title="12">
                        <input type="checkbox" value="13" title="13">
                        <input type="checkbox" value="14" title="14">
                        <input type="checkbox" value="15" title="15">
                        <input type="checkbox" value="16" title="16">
                        <input type="checkbox" value="17" title="17">
                        <input type="checkbox" value="18" title="18">
                        <input type="checkbox" value="19" title="19">
                        <input type="checkbox" value="20" title="20">
                        <input type="checkbox" value="21" title="21">
                        <input type="checkbox" value="22" title="22">
                        <input type="checkbox" value="23" title="23">
                        <input type="checkbox" value="24" title="24">
                        <input type="checkbox" value="25" title="25">
                        <input type="checkbox" value="26" title="26">
                        <input type="checkbox" value="27" title="27">
                        <input type="checkbox" value="28" title="28">
                        <input type="checkbox" value="29" title="29">
                        <input type="checkbox" value="30" title="30">
                        <input type="checkbox" value="31" title="31">
                        <input type="checkbox" value="32" title="32">
                        <input type="checkbox" value="33" title="33">
                        <input type="checkbox" value="34" title="34">
                        <input type="checkbox" value="35" title="35">
                        <input type="checkbox" value="36" title="36">
                        <input type="checkbox" value="37" title="37">
                        <input type="checkbox" value="38" title="38">
                        <input type="checkbox" value="39" title="39">
                        <input type="checkbox" value="40" title="40">
                        <input type="checkbox" value="41" title="41">
                        <input type="checkbox" value="42" title="42">
                        <input type="checkbox" value="43" title="43">
                        <input type="checkbox" value="44" title="44">
                        <input type="checkbox" value="45" title="45">
                        <input type="checkbox" value="46" title="46">
                        <input type="checkbox" value="47" title="47">
                        <input type="checkbox" value="48" title="48">
                        <input type="checkbox" value="49" title="49">
                        <input type="checkbox" value="50" title="50">
                        <input type="checkbox" value="51" title="51">
                        <input type="checkbox" value="52" title="52">
                        <input type="checkbox" value="53" title="53">
                        <input type="checkbox" value="54" title="54">
                        <input type="checkbox" value="55" title="55">
                        <input type="checkbox" value="56" title="56">
                        <input type="checkbox" value="57" title="57">
                        <input type="checkbox" value="58" title="58">
                        <input type="checkbox" value="59" title="59">
                    </div>
                </div>
                <div title="小时">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="hour" onclick="everyTime(this)" title="每小时"> </div>
                    <div class="line layui-form-item"><input type="radio" name="hour" onclick="cycle(this)" title="周期从 "> <input id="hourStart_0" class="numberspinner" style="width:60px;" data-options="min:0,max:23" value="0"> - <input id="hourEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:23" value="2"> 小时</div>
                    <div class="line layui-form-item"><input type="radio" name="hour" onclick="startOn(this)" title=" 从"> <input id="hourStart_1" class="numberspinner" style="width:60px;" data-options="min:0,max:23" value="0"> 小时开始,每 <input id="hourEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:23" value="1"> 小时执行一次</div>
                    <div class="line layui-form-item"><input type="radio" name="hour" id="hour_appoint" title="指定"> </div>
                    <div class="imp hourList layui-form-item">
                        <input type="checkbox" value="0" title="00">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                        <input type="checkbox" value="8" title="08">
                        <input type="checkbox" value="9" title="09">
                        <input type="checkbox" value="10" title="10">
                        <input type="checkbox" value="11" title="11">
                        <input type="checkbox" value="12" title="12">
                        <input type="checkbox" value="13" title="13">
                        <input type="checkbox" value="14" title="14">
                        <input type="checkbox" value="15" title="15">
                        <input type="checkbox" value="16" title="16">
                        <input type="checkbox" value="17" title="17">
                        <input type="checkbox" value="18" title="18">
                        <input type="checkbox" value="19" title="19">
                        <input type="checkbox" value="20" title="20">
                        <input type="checkbox" value="21" title="21">
                        <input type="checkbox" value="22" title="22">
                        <input type="checkbox" value="23" title="23">
                    </div>
                </div>
                <div title="日">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="day" onclick="everyTime(this)" title="每日">  </div>
                    <div class="line layui-form-item"><input type="radio" name="day" onclick="unAppoint(this)" title=" 不指定"></div>
                    <div class="line layui-form-item"><input type="radio" name="day" onclick="cycle(this)" title="周期从">  <input id="dayStart_0" class="numberspinner" style="width:60px;" data-options="min:1,max:31" value="1"> - <input id="dayEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:31" value="2"> 日</div>
                    <div class="line layui-form-item"><input type="radio" name="day" onclick="startOn(this)" title="从">  <input id="dayStart_1" class="numberspinner" style="width:60px;" data-options="min:1,max:31" value="1"> 日开始,每 <input id="dayEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:31" value="1"> 天执行一次</div>
                    <div class="line layui-form-item"><input type="radio" name="day" onclick="workDay(this)" title=" 每月"> <input id="dayStart_2" class="numberspinner" style="width:60px;" data-options="min:1,max:31" value="1"> 号最近的那个工作日</div>
                    <div class="line layui-form-item"><input type="radio" name="day" onclick="lastDay(this)" title=" 本月最后一天"></div>
                    <div class="line layui-form-item"><input type="radio" name="day" id="day_appoint" title="指定"> </div>
                    <div class="imp dayList">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                        <input type="checkbox" value="8" title="08">
                        <input type="checkbox" value="9" title="09">
                        <input type="checkbox" value="10" title="10">
                        <input type="checkbox" value="11" title="11">
                        <input type="checkbox" value="12" title="12">
                        <input type="checkbox" value="13" title="13">
                        <input type="checkbox" value="14" title="14">
                        <input type="checkbox" value="15" title="15">
                        <input type="checkbox" value="16" title="16">
                        <input type="checkbox" value="17" title="17">
                        <input type="checkbox" value="18" title="18">
                        <input type="checkbox" value="19" title="19">
                        <input type="checkbox" value="20" title="20">
                        <input type="checkbox" value="21" title="21">
                        <input type="checkbox" value="22" title="22">
                        <input type="checkbox" value="23" title="23">
                        <input type="checkbox" value="24" title="24">
                        <input type="checkbox" value="25" title="25">
                        <input type="checkbox" value="26" title="26">
                        <input type="checkbox" value="27" title="27">
                        <input type="checkbox" value="28" title="28">
                        <input type="checkbox" value="29" title="29">
                        <input type="checkbox" value="30" title="30">
                        <input type="checkbox" value="31" title="31">
                    </div>
                </div>
                <div title="月">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="mouth" onclick="everyTime(this)" title="每月"> </div>
                    <div class="line layui-form-item"><input type="radio" name="mouth" onclick="unAppoint(this)" title="不指定"> </div>
                    <div class="line layui-form-item"><input type="radio" name="mouth" onclick="cycle(this)" title="周期从">  <input id="mouthStart_0" class="numberspinner" style="width:60px;" data-options="min:1,max:12" value="1"> - <input id="mouthEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:12" value="2"> 月</div>
                    <div class="line layui-form-item"><input type="radio" name="mouth" onclick="startOn(this)" title="从">  <input id="mouthStart_1" class="numberspinner" style="width:60px;" data-options="min:1,max:12" value="1"> 日开始,每 <input id="mouthEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:12" value="1"> 月执行一次</div>
                    <div class="line layui-form-item"><input type="radio" name="mouth" id="mouth_appoint" title="指定"> </div>
                    <div class="imp mouthList">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                        <input type="checkbox" value="8" title="08">
                        <input type="checkbox" value="9" title="09">
                        <input type="checkbox" value="10" title="10">
                        <input type="checkbox" value="11" title="11">
                        <input type="checkbox" value="12" title="12">
                    </div>
                </div>
                <div title="周">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="week" onclick="everyTime(this)" title="每周"> </div>
                    <div class="line layui-form-item"><input type="radio" name="week" onclick="unAppoint(this)" title="不指定"> </div>
                    <div class="line layui-form-item"><input type="radio" name="week" onclick="startOn(this)" title="周期 从星期"> <input id="weekStart_0" class="numberspinner" style="width:60px;" data-options="min:1,max:7" value="1"> - <input id="weekEnd_0" class="numberspinner" style="width:60px;" data-options="min:2,max:7" value="2"></div>
                    <div class="line layui-form-item"><input type="radio" name="week" onclick="weekOfDay(this)" title="第"> <input id="weekStart_1" class="numberspinner" style="width:60px;" data-options="min:1,max:4" value="1"> 周 的星期<input id="weekEnd_1" class="numberspinner" style="width:60px;" data-options="min:1,max:7" value="1"></div>
                    <div class="line layui-form-item"><input type="radio" name="week" onclick="lastWeek(this)" title="本月最后一个星期"> <input id="weekStart_2" class="numberspinner" style="width:60px;" data-options="min:1,max:7" value="1"></div>
                    <div class="line layui-form-item"><input type="radio" name="week" id="week_appoint" title="指定"> </div>
                    <div class="imp weekList">
                        <input type="checkbox" value="1" title="01">
                        <input type="checkbox" value="2" title="02">
                        <input type="checkbox" value="3" title="03">
                        <input type="checkbox" value="4" title="04">
                        <input type="checkbox" value="5" title="05">
                        <input type="checkbox" value="6" title="06">
                        <input type="checkbox" value="7" title="07">
                    </div>
                </div>
                <div title="年">
                    <div class="line layui-form-item"><input type="radio" checked="checked" name="year" onclick="unAppoint(this)" title="不指定"> </div>
                    <div class="line layui-form-item"><input type="radio" name="year" onclick="everyTime(this)" title="每年"> </div>
                    <div class="line layui-form-item"><input type="radio" name="year" onclick="cycle(this)" title="周期 从"> <input id="yearStart_0" class="numberspinner" style="width:90px;" data-options="min:2013,max:3000" value="2013"> - <input id="yearEnd_0" class="numberspinner" style="width:90px;" data-options="min:2014,max:3000" value="2014"></div>
                </div>
            </div>
        </div>

        <div data-options="region:'south',border:false">
            <div class="result">
                <label>最近3次运行时间</label>
                <div class="box-body" id="runTime"></div>
            </div>
            <!--<div style="text-align:center;margin-top: 5px;">-->
            <!--<div></div>-->
            <!--</div>-->
        </div>

        <!--虽然不显示此UI，但需要暂时保留-->
        <div data-options="region:'south',border:false" style="display: none;">
            <fieldset style="border-radius: 3px;height:205px;">
                <legend>表达式</legend>
                <table style="height: 100px;">
                    <tbody>
                    <tr>
                        <td></td>
                        <td  align="center">秒</td>
                        <td  align="center">分钟</td>
                        <td  align="center">小时</td>
                        <td  align="center">日</td>
                        <td  align="center">月<br/></td>
                        <td  align="center">星期</td>
                        <td align="center">年</td>
                    </tr>
                    <tr>
                        <td>表达式字段:</td>
                        <td><input type="text" name="v_second" class="col" value="*" readonly="readonly"/></td>
                        <td><input type="text" name="v_min" class="col" value="*" readonly="readonly"/></td>
                        <td><input type="text" name="v_hour" class="col" value="*" readonly="readonly"/></td>
                        <td><input type="text" name="v_day" class="col" value="*" readonly="readonly"/></td>
                        <td><input type="text" name="v_mouth" class="col" value="*" readonly="readonly"/></td>
                        <td><input type="text" name="v_week" class="col" value="?" readonly="readonly"/></td>
                        <td><input type="text" name="v_year"  class="col" readonly="readonly"/></td>
                    </tr>
                    <tr>
                        <td>Cron表达式:</td>
                        <td colspan="6"><input type="text" name="cron" style="width:100%;" value="* * * * * ?" id="cron"/></td>
                        <td><input type="button" value="反解析到UI " id="btnFan" onclick="btnFan()"/></td>
                    </tr>
                    <tr><td colspan="8" >最近3次运行时间:</td></tr>
                    <!--<tr><td colspan="8" id="runTime"></td></tr>-->
                    </tbody>
                </table>
            </fieldset>
            <div style="text-align:center;margin-top: 5px;">
                <div></div>
            </div>
        </div>
    </div>
    <div class="layerBtnCenter btn-box">
        <button type="button" class="layui-btn btn-close" onclick="parent.JobManager.closeCron()"><i class="iconfont">&#x1006;</i>取消</button>
        <button type="button" class="layui-btn btn-save" onclick="confirmCron()"><i class="iconfont">&#xe009;</i>保存</button>
    </div>
</div>
</body>
<link rel="stylesheet" href="${ctxPath}/static/css/common/project_ext.css">
</html>